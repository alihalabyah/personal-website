function getChange(t){var n=[],e="x"===t?canvas.width/2:canvas.height/2;return mousePos="x"===t?mouse.x:mouse.y,element=0,n=mousePos>e?[1,1,1,1,1,1,0,-1,-1,-1]:[-1,-1,-1,-1,-1,-1,0,1,1,1],element=Math.floor(10*Math.random()),n[element]}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var canvas=document.getElementById("walker"),ctx=canvas.getContext("2d");canvas.height=200,canvas.width=500;var PI_2=2*Math.PI,points=[],walker,mouse={x:null,y:null},influence=!1,Point=function(t,n){return this instanceof Point?(this.x=t||0,void(this.y=n||0)):new Point(t,n)};Point.prototype.draw=function(){ctx.beginPath(),ctx.arc(this.x,this.y,1,0,PI_2),ctx.fill()};var Walker=function(){return this instanceof Walker?(this.position=new Point(canvas.width/2,canvas.height/2),void points.push(this.position)):new Walker};Walker.prototype.update=function(){this.previous=this.position;var t,n=influence?getChange("x"):Math.floor(3*Math.random()-1),e=influence?getChange("y"):Math.floor(3*Math.random()-1);t=new Point(this.position.x+=n,this.position.y+=e),points.push(t)};var update=function(){var t,n;for(walker.update(),ctx.clearRect(0,0,canvas.width,canvas.height),t=points.length;t--;){var n=points[t];n.draw()}requestAnimationFrame(update)},init=function(){walker=new Walker,ctx.fillStyle="rgba(121,210,169,1)",canvas.addEventListener("mousemove",function(t){mouse.x=t.clientX-canvas.offsetLeft,mouse.y=t.clientY-canvas.offsetTop}),update()};init();