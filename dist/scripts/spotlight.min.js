(function(e,t){"use strict";var l=l||function(l,a,o){var r={overlayOpacity:a.overlayOpacity||.8,overlayID:a.overlayID||"overlay",overlayColor:a.overlayColor||"#000"},n={overlay:null,elements:[],placeholders:[],callback:o},s={events:{addEvent:function(e,t,l){return e.addEventListener?e.addEventListener(t,l,!1):e.attachEvent("on"+t,l)},removeEvent:function(e,t,l){return e.addEventListener?e.removeEventListener(t,l,!1):e.detachEvent("on"+t,l)}},klass:{has:function(e,t){return-1!==e.className.indexOf(t)},add:function(e,t){s.klass.has(e,t)||(e.className+=" "+t)},remove:function(e,t){e.className=e.className.replace(t,"")}},style:{add:function(e,t){e.style[t.name]=t.value},remove:function(e,t){e.style.clear=t},addAll:function(e,t){var l;for(l in t)t.hasOwnProperty(l)&&(e.style[l]=t[l])},removeAll:function(e){e.removeAttribute("style")},removeCertain:function(e,t){var l;for(l in t)t.hasOwnProperty(l)&&s.style.remove(e,l)},extractAll:function(t){var l=e.getComputedStyle(t);console.log(l)}},checks:{isArray:function(e){return Array.isArray(e)},isString:function(e){return"string"==typeof e||e instanceof String}},position:{getOffset:function(e){for(var t=0,l=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,l+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:l,left:t}}}},d={add:function(){n.overlay=t.createElement("div"),n.overlay.setAttribute("id",r.overlayID),t.body.appendChild(n.overlay),s.style.addAll(n.overlay,d.styles),s.events.addEvent(n.overlay,"click",function(){d.remove(),i.removeAll()})},remove:function(){t.body.removeChild(n.overlay),n.callback&&n.callback.call(this)},styles:{backgroundColor:r.overlayColor,opacity:r.overlayOpacity,position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10}},i={add:function(e){if(s.checks.isArray(e))i.addMultiple(e);else{if(!s.checks.isString(e))throw new Error("First argument to Spotlight must either be a string or an array");i.addSingle(e)}},addSingle:function(e){var e=t.getElementById(e),e=i.addOffsets(e);i.addPlaceholder(e),n.elements.push(e)},addMultiple:function(e){for(var l,a=0;a<e.length;a++)l=t.getElementById(e[a]),l=i.addOffsets(l),i.addPlaceholder(l),n.elements.push(l)},removeAll:function(){for(var e,t=0;t<n.placeholders.length;t++)e=n.placeholders[t].elem,e.parentNode.removeChild(e);for(var l,t=0;t<n.elements.length;t++)l=n.elements[t],s.style.removeAll(l),s.klass.remove(l,"placeholder")},addOffsets:function(e){var t=s.position.getOffset(e);return e.setAttribute("data-top",t.top),e.setAttribute("data-left",t.left),e},addPlaceholder:function(e){var l={elem:t.createElement("div"),parent:e};l.elem.setAttribute("data-width",e.offsetWidth),l.elem.setAttribute("data-height",e.offsetHeight),n.placeholders.push(l)},addPlaceholdersToPage:function(){for(var e,t,l=0;l<n.placeholders.length;l++)e=n.placeholders[l].parent,t=n.placeholders[l].elem,s.klass.add(t,"placeholder"),s.style.add(t,{name:"width",value:n.placeholders[l].elem.getAttribute("data-width")+"px"}),s.style.add(t,{name:"height",value:n.placeholders[l].elem.getAttribute("data-height")+"px"}),e.parentNode.insertBefore(t,e),i.overlayElement(e)},overlayElement:function(e){s.style.addAll(e,i.styles),s.style.add(e,{name:"top",value:e.getAttribute("data-top")+"px"}),s.style.add(e,{name:"left",value:e.getAttribute("data-left")+"px"})},applyStyles:function(){for(var e=0;e<n.elements.length;e++)s.style.addAll(n.elements[e],i.styles)},styles:{position:"absolute",zIndex:90}},c=function(e){d.add(),i.add(e),i.addPlaceholdersToPage()};this.remove=function(){d.remove(),i.removeAll()},c(l,a)};this.Spotlight=l}).call(this,window,document);