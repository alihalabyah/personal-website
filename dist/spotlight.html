<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Spotlight</title>
        <meta content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" name="viewport" />
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="styles/spotlight.css">
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/grids-min.css">
        <style>
            #example {
                width: 300px;
                height: 300px;
                background-color: red;
                color: white;
            }
            .placeholder {
              border: 1px solid red;
            }
        </style>
    </head>
    <body>

        <div id="container">

            <h1>Spotlight.js</h1>
            <div class="example pure-g-r" id="example-1">

                    <div class="pure-u-1-2">
                        <div id="heman-single">
                            <img src="images/heman.png" alt="" width="400px" height="400px;">
                        </div>
                    </div>
                    <div class="pure-u-1-2">
                        <h3>Single element</h3>
                        <div class="btn" id="hemanBtn">Put heman in the spotlight!</div>
                        <div class="prettyprint"></div>
                    </div>
                </div>
            <div class="example pure-g-r" id="example-2">
                    <div class="pure-u-1">
                        <h3>Multiple spotlights</h3>
                    </div>
                    <div class="pure-u-1-3">
                        its on
                    </div>
                    <div class="pure-u-1-3">
                        its on
                    </div>
                    <div class="pure-u-1-3">
                        its on
                    </div>
            </div>
            <div class="example" id="example-3">
                <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
                    <div id="player"></div>
            </div>
            <div id="example">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat, inventore, impedit sunt veritatis molestias recusandae illo similique! Ullam, eius, deserunt, nisi expedita doloribus praesentium aliquid ipsa soluta quisquam eligendi quaerat maiores optio fugiat suscipit non odit nobis debitis placeat modi reprehenderit hic obcaecati harum atque consequuntur qui dicta tenetur ab repellendus magni! Illo, quae, ipsa, ratione, vitae explicabo consequatur soluta blanditiis sed sequi quas atque nisi voluptatum cumque sit incidunt quo repellendus quam commodi fugiat necessitatibus? Placeat, totam et maxime quod ad cum itaque fuga molestiae obcaecati vitae iure in optio fugit nesciunt sint sequi ipsa magnam eaque vero aliquam.
            </div>
            <div id="exampleTrigger">
                trigger me
            </div>
        </div>

    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
        <div id="player"></div>

        <script>
          // 2. This code loads the IFrame Player API code asynchronously.
          var tag = document.createElement('script');

          tag.src = "https://www.youtube.com/iframe_api";
          var firstScriptTag = document.getElementsByTagName('script')[0];
          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

          // 3. This function creates an <iframe> (and YouTube player)
          //    after the API code downloads.
          var player;
          function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
              height: '390',
              width: '640',
              playerVars: { 'autoplay': 0, 'controls': 1 },
              videoId: 'RDMAR34v_pc',
              events: {
                'onReady': null,
                'onStateChange': onPlayerStateChange
              }
            });
          }

          // 5. The API calls this function when the player's state changes.
          //    The function indicates that when playing a video (state=1),
          //    the player should play for six seconds and then stop.
          var spotlight;
          function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
              spotlight = new Spotlight('player', {
                  overlayOpacity: 0.8
              }, function () {
                console.log('called when overlay clicked');
              });
            }
            if (event.data === 0) {
                console.log('video is finished');
                spotlight = new Spotlight('player', {
                    overlayOpacity: 0.8
                });
            }
            if (event.data === 2) {
                console.log('video is paused');
                console.log(spotlight);
                spotlight.remove();
            }
          }
          function stopVideo() {
            player.stopVideo();
          }
        </script>
    <script src="scripts/spotlight.js"></script>
    <script>
        var target = document.getElementById('hemanBtn');
        target.addEventListener('click', function () {
            var one = new Spotlight('heman-single', {
                overlayOpacity: 0.8,
                color: '#ffddff'
            });
        }, false);
    </script>

    </body>
</html>
