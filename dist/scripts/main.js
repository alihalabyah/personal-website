function init(){container=document.createElement("div"),$canvasContainer[0].appendChild(container),camera=new THREE.PerspectiveCamera(75,window.innerWidth/$canvasContainer.innerHeight(),1,3e3),camera.position.z=250,scene=new THREE.Scene;var a=2*Math.PI,b=function(b){b.beginPath(),b.arc(0,0,.5,0,a,!0),b.fill()};group=new THREE.Object3D,scene.add(group);for(var c=0;900>c;c++){var d=new THREE.SpriteCanvasMaterial({color:4505281,program:b});particle=new THREE.Sprite(d),particle.position.x=2e3*Math.random()-1e3,particle.position.y=2e3*Math.random()-1e3,particle.position.z=2e3*Math.random()-1e3,particle.scale.x=particle.scale.y=20*Math.random()+10,group.add(particle)}renderer=new THREE.CanvasRenderer,renderer.setSize(window.innerWidth,$canvasContainer.innerHeight()),container.appendChild(renderer.domElement),Modernizr.touch?$canvasContainer[0].addEventListener("resize",onWindowResize,!1):(document.addEventListener("mousemove",onDocumentMouseMove,!1),document.addEventListener("touchstart",onDocumentTouchStart,!1),document.addEventListener("touchmove",onDocumentTouchMove,!1),window.addEventListener("resize",onWindowResize,!1))}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=$canvasContainer.innerHeight()/2,camera.aspect=window.innerWidth/$canvasContainer.innerHeight(),camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,$canvasContainer.innerHeight())}function onDocumentMouseMove(a){mouseX=a.clientX-windowHalfX,mouseY=a.clientY-windowHalfY}function onDocumentTouchStart(a){1===a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)}function onDocumentTouchMove(a){1===a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)}function animate(){requestAnimationFrame(animate),render()}function render(){camera.position.x+=.01*(mouseX-camera.position.x),camera.position.y+=.01*(-mouseY-camera.position.y),camera.lookAt(scene.position),group.rotation.x+=.001,group.rotation.y+=.001,renderer.render(scene,camera)}var $projects=$(".project"),$topborder=$(".top-border"),$html=$("html"),color=Math.floor(255*Math.random()),first,last,css,delay;$(function(){$("body").addClass("ready"),$projects.each(function(a){delay=(a+3)/4-.5,css=" animation-delay: "+delay+"s; -webkit-animation-delay: "+delay+"s; -moz-animation-delay: "+delay+"s; -o-animation-delay: "+delay+"s;",$(this).attr("style",css)}),$(".projects h2").each(function(a){var b=color+13*a;(0===a||a===$projects.length-1)&&(0===a?first=b:last=b),css="background: hsl("+b+",95%,65%); color:hsl("+b+",65%,55%);",$(this).attr("style",css)}),css="background: linear-gradient(90deg, hsl("+first+",65%,65%), hsl("+last+",65%,65%)) hsl("+first+",65%,65%) repeat;",$topborder.attr("style",css),$html.hasClass("touch")&&setTimeout(function(){window.scrollTo(0,1)},0),$(".wordy2").WordySwitch({words:["the web","rubix cubes","football"]})});var container,camera,scene,renderer,group,particle,mouseX=0,mouseY=0,$canvasContainer=$("#canvasWrap"),windowHalfX=window.innerWidth/2,windowHalfY=$canvasContainer.innerHeight()/2;init(),animate(),function(a,b){function c(b,c){this.element=b,this.$element=a(b),this._defaults=e,this._name=d,this._current=0,this._timerId,this._hoverTimerId,this.options=a.extend({},e,c),this.wordLength=0,this.init()}var d="WordySwitch",e=(b.document,{hover:"true",hoverSpeed:1e3/3});c.prototype.init=function(){self=this,this.words=this.options.words,this.words.push(this.$element.text()),this.wordLength=this.words.length,this.normalTimer.call(this),this.hoverTimer.bind(c),this.$element.on("mouseenter",{context:this},this.hoverTimer),this.hoverExit.bind(c),this.$element.on("mouseleave",{context:this},this.hoverExit)},c.prototype.applyStyles=function(){},c.prototype.getCurrent=function(){return self._current>=self.wordLength&&(self._current=0),self._current},c.prototype.hoverTimer=function(a){console.log(this);var b=a.data.context;clearTimeout(b._timerId),b._hoverTimerId=setInterval(function(){var a=b.getCurrent();b.$element.text(b.options.words[a]),b._current++},b.options.hoverSpeed)},c.prototype.hoverExit=function(){console.log(this),clearTimeout(self._hoverTimerId),self.normalTimer.call(this)},c.prototype.normalTimer=function(){self._timerId=setInterval(function(){var a=self.getCurrent();self.$element.text(self.options.words[a]),self._current++},2e3)},a.fn[d]=function(a){return this.each(function(){new c(this,a)})}}(jQuery,window);